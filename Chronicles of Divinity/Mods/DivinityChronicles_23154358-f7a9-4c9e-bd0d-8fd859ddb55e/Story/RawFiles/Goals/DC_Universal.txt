Version 1
SubGoalCombiner SGC_AND
INITSECTION

KBSECTION
//REGION Source Points Override
IF
CharacterUsedItemTemplate((CHARACTERGUID)_Player, "DC_CON_Potion_Source_a5fdf6a5-a170-4598-9652-850977dc362d", (ITEMGUID)_Item)
AND
CharacterGetMaxSourcePoints(_Player, (INTEGER)_CurrentSP)
AND
IntegerSum(_CurrentSP, 1, (INTEGER)_MaxSP)
THEN
CharacterOverrideMaxSourcePoints(_Player, _MaxSP);

// Increase Source Point by 1
IF
CharacterUsedItemTemplate((CHARACTERGUID)_Player, "DC_Quest_SourcePointScroll_000_56e7c888-7929-47c7-aa95-8a1838256783", (ITEMGUID)_Item)
AND
CharacterGetMaxSourcePoints(_Player, (INTEGER)_CurrentSP)
AND
IntegerSum(_CurrentSP, 1, (INTEGER)_MaxSP)
THEN
CharacterAddSourcePoints((CHARACTERGUID)_Player,1);
//END_REGION

// DEBUG TOOL

IF
DialogStarted("DC_Rat_Test", _Instance)
AND
DialogGetInvolvedPlayer(_Instance, 1, (CHARACTERGUID)_Player)
AND
CharacterGetDisplayName(_Player, _Handle, _Ref)
THEN
DialogSetVariableStringForInstance(_Instance, "DC_GetName_abf7b032-1cc1-4341-a79c-649635affb10", _Ref);





IF
CharacterEnteredTrigger(_Player,TRIGGERGUID_DC_DimaTest_25603aa3-0ea4-4818-a6e4-0fbd6455fc3b)
THEN
DisplayText(_Player,"Working");

IF
CharacterLeveledUp(_Player)
AND
ItemTemplateIsInCharacterInventory(_Player,"DC_Debug_Book_b7e7be57-2940-4260-885f-af92912b1657",0)
THEN
DisplayText(_Player,"Book Incoming!");
ItemTemplateAddTo("DC_Debug_Book_b7e7be57-2940-4260-885f-af92912b1657",_Player,1);

IF
CharacterUsedItemTemplate(_Player, "DC_Debug_Book_b7e7be57-2940-4260-885f-af92912b1657", _)
THEN
DisplayText(_Player,"Running Debug Tool!");
PlaySound(_Player,"SE_Lohse_song_full_performance");
CharacterItemSetEvent(_Player,ITEMGUID_DC_CannonTest_a73e91ba-a474-4f02-9f5f-3f4270aefed0,"TestCannonOn");

IF
CharacterUsedItemTemplate(_Player, "DC_BOOK_TutorialShip_TimeTravel_baec138a-3f8d-4252-8c22-a3c70f31a464", _)
THEN
DisplayText(_Player,"Running Teleporter Dialogue!");
PlaySound(_Player,"SE_Lohse_song_full_performance");
Proc_StartDialog(0,"Icara_Teleport",CHARACTERGUID_DC_Icara_Teleporter_ea4b5b68-d341-4518-b802-08e18900236c,_Player);
EXITSECTION

ENDEXITSECTION
ParentTargetEdge "__Start"
